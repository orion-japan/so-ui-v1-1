@tailwind base;
@tailwind components;
@tailwind utilities;

/* 🌸 Sofia共鳴UI：フォント登録 */
@font-face {
  font-family: 'Zen Maru Gothic';
  src: url('/fonts/ZenMaruGothic-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
}

/* 🌿 基本スタイル */
:root {
  --max-width: 1100px;
  --border-radius: 12px;
  --font-mono: ui-monospace, Menlo, Monaco, 'Cascadia Mono', 'Segoe UI Mono', 'Roboto Mono',
    'Oxygen Mono', 'Ubuntu Monospace', 'Source Code Pro', 'Fira Mono', 'Droid Sans Mono',
    'Courier New', monospace;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

/* ✅ ビューポート高さをSafari対応に */
html,
body {
  height: 100%;
  width: 100%;
  min-height: 100%;
  max-width: 100vw;
  overflow-x: hidden;
  font-family: 'Noto Sans JP', 'Zen Maru Gothic', sans-serif;
  background: linear-gradient(to bottom, #eaf2fb, #f5eafd);
  color: #1f2937;
  line-height: 1.6;
  letter-spacing: 0.03em;
  -webkit-overflow-scrolling: touch;
}

/* 🔤 テキスト補助 */
.h1 {
  @apply text-xl font-semibold text-gray-900 pb-6 leading-snug;
}
.h2 {
  @apply text-sm font-medium text-gray-900 leading-snug;
}
.link {
  @apply text-blue-600 cursor-pointer hover:opacity-80 transition-opacity duration-200 ease-in-out;
}
.text-gradient {
  background: linear-gradient(91.58deg, #2250F2 -29.55%, #0EBCF3 75.22%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-fill-color: transparent;
}

/* 💬 Sofia吹き出し共通 */
.bubble {
  @apply rounded-2xl px-5 py-4 shadow-md whitespace-pre-wrap break-words;
}

.bubble-user {
  @apply bg-purple-100 text-left text-gray-800 tracking-wide leading-relaxed ml-auto;
}

.bubble-assistant {
  @apply bg-gradient-to-r from-indigo-100 to-purple-100 text-left text-gray-800 tracking-wide leading-relaxed mr-auto;
}

.sofia-icon {
  @apply rounded-full mt-1;
}

/* ✅ 吹き出し内部テキストのはみ出し防止 */
.bubble * {
  word-break: break-word;
  overflow-wrap: break-word;
}

/* ✅ 吹き出し幅のレスポンシブはMessageList側で指定するので max-wはここでは設定しない */

/* 🖋 入力フィールド */
input[type='text'] {
  @apply border border-gray-300 rounded-xl px-4 py-2 w-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-300;
}

/* 📂 アップロードUI */
.uploader-box {
  @apply fixed bottom-32 left-4 w-80 p-4 bg-white border rounded shadow-md space-y-4;
}

/* 📱 波紋背景 */
.chat-background {
  background: radial-gradient(circle at 50% 50%, #eaf6ff, #f3eafd, #fdfbff);
  animation: rippleFlow 12s ease-in-out infinite;
  background-size: 300% 300%;
}
@keyframes rippleFlow {
  0%, 100% {
    background-position: 50% 50%;
  }
  50% {
    background-position: 100% 100%;
  }
}
